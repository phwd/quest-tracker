package com.oculus.horizon.platform;

import X.AbstractC06640p5;
import X.AnonymousClass0J2;
import X.AnonymousClass0QC;
import X.AnonymousClass0b9;
import X.AnonymousClass0p1;
import X.AnonymousClass117;
import X.C003008y;
import X.C01020Iw;
import android.app.Application;
import android.content.Context;
import android.content.Intent;
import com.facebook.ultralight.AutoGeneratedAccessMethod;
import com.facebook.ultralight.AutoGeneratedFactoryMethod;
import com.facebook.ultralight.Dependencies;
import com.facebook.ultralight.Eager;
import com.oculus.common.init.INeedInit;
import com.oculus.security.basecomponent.OculusPublicBroadcastReceiver;
import javax.inject.Inject;
import javax.inject.Provider;

@Dependencies({"_UL__ULSEP_android_content_Context_ULSEP_com_facebook_inject_ForAppContext_ULSEP_BINDING_ID", "_UL__ULSEP_com_oculus_horizon_platform_PresenceManager_ULSEP_BINDING_ID", "_UL__ULSEP_com_oculus_horizon_platform_PresenceActivityLifecycleCallbacks_ULSEP_BINDING_ID"})
public class PresenceInit implements INeedInit {
    public AnonymousClass0QC _UL_mInjectionContext;
    @Inject
    @Eager
    public final PresenceActivityLifecycleCallbacks mPresenceActivityLifecycleCallbacks;
    @Inject
    @Eager
    public final PresenceManager mPresenceManager;

    @AutoGeneratedAccessMethod
    public static final AnonymousClass0p1 _UL__ULSEP_com_facebook_inject_Lazy_ULLT_com_oculus_horizon_platform_PresenceInit_ULGT__ULSEP_ACCESS_METHOD(AbstractC06640p5 r2) {
        return new C003008y(430, r2);
    }

    @AutoGeneratedAccessMethod
    public static final PresenceInit _UL__ULSEP_com_oculus_horizon_platform_PresenceInit_ULSEP_ACCESS_METHOD(AbstractC06640p5 r1) {
        return (PresenceInit) AnonymousClass117.A00(430, r1);
    }

    @AutoGeneratedFactoryMethod
    public static final PresenceInit _UL__ULSEP_com_oculus_horizon_platform_PresenceInit_ULSEP_FACTORY_METHOD(AbstractC06640p5 r1) {
        return new PresenceInit(r1);
    }

    @AutoGeneratedAccessMethod
    public static final Provider _UL__ULSEP_javax_inject_Provider_ULLT_com_oculus_horizon_platform_PresenceInit_ULGT__ULSEP_ACCESS_METHOD(AbstractC06640p5 r2) {
        return new C01020Iw(430, r2);
    }

    @Override // com.oculus.common.init.INeedInit
    public void init() {
        this.mPresenceManager.start();
        ((Application) ((Context) AnonymousClass0J2.A03(0, 294, this._UL_mInjectionContext)).getApplicationContext()).registerActivityLifecycleCallbacks(this.mPresenceActivityLifecycleCallbacks);
        new OculusPublicBroadcastReceiver("android.intent.action.SCREEN_ON", "android.intent.action.SCREEN_OFF", "android.intent.action.USER_PRESENT") {
            /* class com.oculus.horizon.platform.PresenceInit.AnonymousClass1 */

            @Override // com.oculus.security.basecomponent.OculusSecureBroadcastReceiverBase
            public void onReceive(Context context, Intent intent, AnonymousClass0b9 r4) {
                PresenceInit.this.mPresenceManager.onLockStateChange();
            }
        }.registerReceiver((Context) AnonymousClass0J2.A03(0, 294, this._UL_mInjectionContext));
    }

    @Inject
    public PresenceInit(AbstractC06640p5 r3) {
        this._UL_mInjectionContext = new AnonymousClass0QC(1, r3);
        this.mPresenceManager = PresenceManager._UL__ULSEP_com_oculus_horizon_platform_PresenceManager_ULSEP_ACCESS_METHOD(r3);
        this.mPresenceActivityLifecycleCallbacks = PresenceActivityLifecycleCallbacks._UL__ULSEP_com_oculus_horizon_platform_PresenceActivityLifecycleCallbacks_ULSEP_ACCESS_METHOD(r3);
    }
}
