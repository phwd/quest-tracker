package com.oculus.http.common;

import X.AbstractC06640p5;
import X.AnonymousClass0J5;
import X.AnonymousClass0N1;
import X.AnonymousClass0NO;
import X.AnonymousClass0S3;
import X.AnonymousClass117;
import X.C003309b;
import X.C01100Kd;
import X.C01350Rz;
import X.C07790vM;
import X.C08360wQ;
import X.C08490wf;
import X.C08500wg;
import X.C08530wj;
import X.C08540wk;
import X.EnumC08190w9;
import com.facebook.inject.AutoGeneratedBinder;
import com.facebook.inject.InjectorModule;
import com.facebook.inject.ProviderMethod;
import com.facebook.ultralight.AutoGeneratedAccessMethod;
import com.facebook.ultralight.AutoGeneratedFactoryMethod;
import com.facebook.ultralight.AutoGeneratedSwitchIdClass;
import com.oculus.http.socketconfig.SocketConfigModule;
import java.security.KeyManagementException;
import java.security.NoSuchAlgorithmException;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.concurrent.TimeUnit;
import javax.net.ssl.SSLContext;
import javax.net.ssl.SSLSocketFactory;
import javax.net.ssl.X509TrustManager;

@InjectorModule
public class HttpModule extends AnonymousClass0J5 {
    public static final String TAG = "HttpModule";

    @AutoGeneratedBinder
    public static class AutoGeneratedBindingsForHttpModule {
    }

    @AutoGeneratedSwitchIdClass
    public static final class UL_id {
        public static final int _UL__ULSEP_okhttp3_CertificatePinner_ULSEP_BINDING_ID = 443;
        public static final int _UL__ULSEP_okhttp3_ConnectionSpec_ULSEP_BINDING_ID = 343;
        public static final int _UL__ULSEP_okhttp3_OkHttpClient_ULSEP_BINDING_ID = 346;
    }

    @AutoGeneratedAccessMethod
    public static final C08540wk A00(AbstractC06640p5 r1) {
        return (C08540wk) AnonymousClass117.A00(443, r1);
    }

    @ProviderMethod
    public static C08490wf A02() {
        C08500wg r4 = new C08500wg(C08490wf.A06);
        r4.A03(EnumC08190w9.TLS_1_2);
        r4.A02(C08530wj.A0b, C08530wj.A0n, C08530wj.A0G);
        return new C08490wf(r4);
    }

    @AutoGeneratedAccessMethod
    public static final C08490wf A04(AbstractC06640p5 r1) {
        return (C08490wf) AnonymousClass117.A00(343, r1);
    }

    @AutoGeneratedAccessMethod
    public static final AnonymousClass0N1 A05(AbstractC06640p5 r1) {
        return (AnonymousClass0N1) AnonymousClass117.A00(346, r1);
    }

    @ProviderMethod
    public static AnonymousClass0N1 A07(C08540wk r5, C08490wf r6, C01100Kd r7) {
        String str;
        C08360wQ r3 = new C08360wQ();
        long j = (long) 15000;
        TimeUnit timeUnit = TimeUnit.MILLISECONDS;
        r3.A0E = C08360wQ.A00(j, timeUnit);
        r3.A0F = C08360wQ.A00(j, timeUnit);
        r3.A0G = C08360wQ.A00(0, timeUnit);
        if (r5 != null) {
            r3.A0K = r5;
            r3.A0H = Collections.unmodifiableList(new ArrayList(Arrays.asList(r6)));
            C01350Rz r1 = new C01350Rz(r7.A00);
            try {
                SSLContext instance = SSLContext.getInstance("TLS");
                X509TrustManager[] x509TrustManagerArr = r1.A00;
                instance.init(null, x509TrustManagerArr, null);
                SSLSocketFactory socketFactory = instance.getSocketFactory();
                X509TrustManager x509TrustManager = x509TrustManagerArr[0];
                if (socketFactory == null) {
                    str = "sslSocketFactory == null";
                } else if (x509TrustManager != null) {
                    r3.A0J = socketFactory;
                    r3.A0L = C07790vM.A00.A03(x509TrustManager);
                    return new AnonymousClass0N1(r3);
                } else {
                    str = "trustManager == null";
                }
                throw new NullPointerException(str);
            } catch (KeyManagementException | NoSuchAlgorithmException e) {
                AnonymousClass0NO.A0B(TAG, "failed to setup ssl socket factory", e);
            }
        } else {
            throw new NullPointerException("certificatePinner == null");
        }
    }

    @AutoGeneratedFactoryMethod
    public static final C08540wk A01(AbstractC06640p5 r1) {
        return AnonymousClass0S3.A00(C003309b.A00(r1).A00);
    }

    @AutoGeneratedFactoryMethod
    public static final C08490wf A03() {
        return A02();
    }

    @AutoGeneratedFactoryMethod
    public static final AnonymousClass0N1 A06(AbstractC06640p5 r3) {
        SocketConfigModule.A01(r3);
        return A07(A00(r3), A04(r3), C003309b.A00(r3));
    }
}
