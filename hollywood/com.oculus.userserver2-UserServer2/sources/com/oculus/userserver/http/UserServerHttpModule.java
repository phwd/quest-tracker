package com.oculus.userserver.http;

import X.AbstractC0031Bc;
import X.AbstractC0054Ej;
import X.AbstractC0192Xx;
import X.C0178Xd;
import X.S0;
import X.XQ;
import X.XS;
import android.content.Context;
import android.content.pm.PackageInfo;
import com.facebook.inject.ApplicationScoped;
import com.facebook.inject.AutoGeneratedBinder;
import com.facebook.inject.ForAppContext;
import com.facebook.inject.InjectorModule;
import com.facebook.inject.ProviderMethod;
import com.facebook.ultralight.AutoGeneratedSwitchIdClass;
import com.oculus.auth.credentials.CredentialsManager;
import com.oculus.auth.storage.AuthDatastore;
import com.oculus.http.core.annotations.OculusApiEndpoint;
import com.oculus.http.core.interceptor.ApiInterceptor;
import com.oculus.http.core.interceptor.GzipInterceptor;
import com.oculus.http.core.util.CustomApiEndpointValidator;
import com.oculus.http.useragent.UserAgentString;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.List;
import java.util.Locale;
import java.util.concurrent.TimeUnit;
import retrofit.RestAdapter;

@InjectorModule
public class UserServerHttpModule extends AbstractC0031Bc {
    public static volatile CredentialsManager _UL__ULSEP_com_oculus_auth_credentials_CredentialsManager_ULSEP_INSTANCE;
    public static volatile AuthDatastore _UL__ULSEP_com_oculus_auth_storage_AuthDatastore_ULSEP_INSTANCE;
    public static volatile AbstractC0054Ej _UL__ULSEP_okhttp3_OkHttpClient_ULSEP_com_oculus_userserver_http_OculusApi_ULSEP_INSTANCE;
    public static final Object _UL__ULSEP_okhttp3_OkHttpClient_ULSEP_com_oculus_userserver_http_OculusApi_ULSEP_LOCK = new Object();
    public static volatile RestAdapter _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_userserver_http_OculusApi_ULSEP_INSTANCE;
    public static final Object _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_userserver_http_OculusApi_ULSEP_LOCK = new Object();

    @AutoGeneratedBinder
    public static class AutoGeneratedBindingsForUserServerHttpModule {
    }

    @AutoGeneratedSwitchIdClass
    public static final class UL_id {
        public static final int _UL__ULSEP_com_oculus_auth_credentials_CredentialsManager_ULSEP_BINDING_ID = 72;
        public static final int _UL__ULSEP_com_oculus_auth_storage_AuthDatastore_ULSEP_BINDING_ID = 32;
        public static final int _UL__ULSEP_com_oculus_base_app_AppInfo_ULSEP_BINDING_ID = 49;
        public static final int _UL__ULSEP_java_lang_String_ULSEP_com_oculus_http_core_annotations_OculusApiEndpoint_ULSEP_BINDING_ID = 60;
        public static final int _UL__ULSEP_java_lang_String_ULSEP_com_oculus_http_useragent_AppNameInUserAgent_ULSEP_BINDING_ID = 37;
        public static final int _UL__ULSEP_okhttp3_OkHttpClient_ULSEP_com_oculus_userserver_http_NoCertPinning_ULSEP_BINDING_ID = 5;
        public static final int _UL__ULSEP_okhttp3_OkHttpClient_ULSEP_com_oculus_userserver_http_OculusApi_ULSEP_BINDING_ID = 46;
        public static final int _UL__ULSEP_retrofit_RestAdapter_LogLevel_ULSEP_BINDING_ID = 25;
        public static final int _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_userserver_http_OculusApi_ULSEP_BINDING_ID = 66;
    }

    @ProviderMethod
    @NoCertPinning
    public static AbstractC0054Ej A00(C0178Xd xd) {
        XQ xq = new XQ();
        long j = (long) 15000;
        TimeUnit timeUnit = TimeUnit.MILLISECONDS;
        xq.A0E = XQ.A00(j, timeUnit);
        xq.A0F = XQ.A00(j, timeUnit);
        xq.A0G = XQ.A00(0, timeUnit);
        xq.A0H = Collections.unmodifiableList(new ArrayList(Arrays.asList(xd)));
        return new AbstractC0054Ej(xq);
    }

    @OculusApi
    @ApplicationScoped
    @ProviderMethod
    public static AbstractC0054Ej A01(AbstractC0054Ej ej, @ForAppContext Context context, PackageInfo packageInfo, @OculusApiEndpoint String str, @UserAgentString String str2, AbstractC0192Xx<Locale> xx) {
        XQ xq = new XQ(ej);
        if (CustomApiEndpointValidator.DISABLE_CERT_CHECK_URI_PATTERN.matcher(str).matches()) {
            CustomApiEndpointValidator.A00(xq);
        }
        ApiInterceptor A00 = ApiInterceptor.A00(context, packageInfo, str2, xx);
        List<XS> list = xq.A0N;
        list.add(A00);
        list.add(new GzipInterceptor());
        list.add(new S0());
        return new AbstractC0054Ej(xq);
    }
}
