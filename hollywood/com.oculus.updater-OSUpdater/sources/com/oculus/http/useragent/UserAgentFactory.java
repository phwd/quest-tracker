package com.oculus.http.useragent;

import android.content.Context;
import android.content.pm.PackageInfo;
import com.facebook.common.android.AndroidModule;
import com.facebook.inject.BundledAndroidModule;
import com.facebook.inject.FbInjector;
import com.facebook.inject.ForAppContext;
import com.facebook.inject.InjectionContext;
import com.facebook.inject.InjectorLike;
import com.facebook.ultralight.AutoGeneratedAccessMethod;
import com.facebook.ultralight.AutoGeneratedFactoryMethod;
import com.facebook.ultralight.Dependencies;
import com.facebook.ultralight.UL;
import com.oculus.http.useragent.UserAgentModule;
import com.oculus.locale.LocaleModule;
import java.util.Locale;
import javax.inject.Inject;
import javax.inject.Provider;

@Dependencies
public class UserAgentFactory {
    private InjectionContext _UL_mInjectionContext;
    private final String mAppNameInUserAgent;
    private final Context mContext;
    private final Provider<Locale> mLocaleProvider;
    private final PackageInfo mPackageInfo;

    @AutoGeneratedAccessMethod
    public static final UserAgentFactory _UL__ULSEP_com_oculus_http_useragent_UserAgentFactory_ULSEP_ACCESS_METHOD(InjectorLike injectorLike) {
        return (UserAgentFactory) UL.factorymap.get(UserAgentModule.UL_id._UL__ULSEP_com_oculus_http_useragent_UserAgentFactory_ULSEP_BINDING_ID, injectorLike);
    }

    @AutoGeneratedFactoryMethod
    public static final UserAgentFactory _UL__ULSEP_com_oculus_http_useragent_UserAgentFactory_ULSEP_FACTORY_METHOD(InjectorLike injectorLike) {
        return new UserAgentFactory(injectorLike, BundledAndroidModule._UL__ULSEP_android_content_Context_ULSEP_com_facebook_inject_ForAppContext_ULSEP_ACCESS_METHOD(injectorLike), UserAgentModule._UL__ULSEP_java_lang_String_ULSEP_com_oculus_http_useragent_AppNameInUserAgent_ULSEP_ACCESS_METHOD(injectorLike), AndroidModule._UL__ULSEP_android_content_pm_PackageInfo_ULSEP_ACCESS_METHOD(injectorLike), LocaleModule._UL__ULSEP_javax_inject_Provider_ULLT_java_util_Locale_ULGT__ULSEP_ACCESS_METHOD(injectorLike));
    }

    @Inject
    public UserAgentFactory(InjectorLike injectorLike, @ForAppContext Context context, @AppNameInUserAgent String str, PackageInfo packageInfo, Provider<Locale> provider) {
        this._UL_mInjectionContext = new InjectionContext(1, injectorLike);
        this.mContext = context;
        this.mAppNameInUserAgent = str;
        this.mPackageInfo = packageInfo;
        this.mLocaleProvider = provider;
    }

    public String makeUserAgent() {
        return new UserAgentBuilder(this.mContext).setHttpAgent(System.getProperty("http.agent")).setAppName(this.mAppNameInUserAgent).setAppVersion(this.mPackageInfo.versionName).setBuildVersion(String.valueOf(this.mPackageInfo.versionCode)).setLocale(this.mLocaleProvider.get().toString()).setPackageName(this.mContext.getPackageName()).setUserAgentAppVersionMap((String) FbInjector.lazyInstance(0, UserAgentModule.UL_id._UL__ULSEP_java_lang_String_ULSEP_com_oculus_http_useragent_UserAgentAppVersionMap_ULSEP_BINDING_ID, this._UL_mInjectionContext)).build();
    }
}
