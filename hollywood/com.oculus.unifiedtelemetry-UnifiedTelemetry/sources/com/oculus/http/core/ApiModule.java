package com.oculus.http.core;

import X.AbstractC0247Xu;
import X.C00208d;
import X.C00238n;
import X.C0088Gy;
import X.C0365dm;
import X.C0515sp;
import X.Cdo;
import X.I0;
import X.LD;
import X.Pj;
import X.XG;
import X.eJ;
import android.content.Context;
import android.content.pm.PackageInfo;
import com.facebook.inject.ApplicationScoped;
import com.facebook.inject.AutoGeneratedBinder;
import com.facebook.inject.ForAppContext;
import com.facebook.inject.InjectorModule;
import com.facebook.inject.ProviderMethod;
import com.facebook.ultralight.AutoGeneratedAccessMethod;
import com.facebook.ultralight.AutoGeneratedFactoryMethod;
import com.facebook.ultralight.AutoGeneratedSwitchIdClass;
import com.oculus.http.common.HttpModule;
import com.oculus.http.core.annotations.OculusApiEndpoint;
import com.oculus.http.core.endpoint.EndpointModule;
import com.oculus.http.core.interceptor.ApiInterceptor;
import com.oculus.http.core.interceptor.GzipInterceptor;
import com.oculus.http.core.interceptor.NpeExceptionHandlerInterceptor;
import com.oculus.http.core.interceptor.OculusAuthorizationInterceptor;
import com.oculus.http.core.interceptor.RequestHeadersInterceptor;
import com.oculus.http.core.util.CustomApiEndpointValidator;
import com.oculus.http.customuseragentclient.CustomUserAgentHttpClient;
import com.oculus.http.defaultclient.DefaultHttpClient;
import com.oculus.http.headers.RequestHeaders;
import com.oculus.http.useragent.UserAgentModule;
import com.oculus.http.useragent.UserAgentString;
import com.oculus.util.device.DeviceUtils;
import java.util.List;
import java.util.Locale;
import retrofit.ErrorHandler;
import retrofit.RestAdapter;

@InjectorModule
public class ApiModule extends I0 {
    public static volatile LD _UL__ULSEP_okhttp3_OkHttpClient_ULSEP_com_oculus_http_defaultclient_DefaultHttpClient_ULSEP_INSTANCE;
    public static final Object _UL__ULSEP_okhttp3_OkHttpClient_ULSEP_com_oculus_http_defaultclient_DefaultHttpClient_ULSEP_LOCK = new Object();
    public static volatile RestAdapter _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_http_core_annotations_FacebookApiRestAdapter_ULSEP_INSTANCE;
    public static final Object _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_http_core_annotations_FacebookApiRestAdapter_ULSEP_LOCK = new Object();
    public static volatile RestAdapter _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_http_core_annotations_FacebookGraphRestAdapter_ULSEP_INSTANCE;
    public static final Object _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_http_core_annotations_FacebookGraphRestAdapter_ULSEP_LOCK = new Object();
    public static volatile RestAdapter _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_http_core_annotations_FacebookGraphVideoRestAdapter_ULSEP_INSTANCE;
    public static final Object _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_http_core_annotations_FacebookGraphVideoRestAdapter_ULSEP_LOCK = new Object();
    public static volatile RestAdapter _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_http_core_annotations_OculusRestAdapter_ULSEP_INSTANCE;
    public static final Object _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_http_core_annotations_OculusRestAdapter_ULSEP_LOCK = new Object();

    @AutoGeneratedBinder
    public static class AutoGeneratedBindingsForApiModule {
    }

    @AutoGeneratedSwitchIdClass
    public static final class UL_id {
        public static final int _UL__ULSEP_com_oculus_http_core_ApiResponseConverter_ULSEP_BINDING_ID = 116;
        public static final int _UL__ULSEP_com_oculus_http_core_HttpCoreLogger_ULSEP_BINDING_ID = 12;
        public static final int _UL__ULSEP_com_oculus_http_core_LoggingErrorHandler_ULSEP_BINDING_ID = 44;
        public static final int _UL__ULSEP_java_lang_Boolean_ULSEP_com_oculus_http_core_annotations_ReportGraphBackendException_ULSEP_BINDING_ID = 36;
        public static final int _UL__ULSEP_okhttp3_OkHttpClient_ULSEP_com_oculus_http_customuseragentclient_CustomUserAgentHttpClient_ULSEP_BINDING_ID = 103;
        public static final int _UL__ULSEP_okhttp3_OkHttpClient_ULSEP_com_oculus_http_defaultclient_DefaultHttpClient_ULSEP_BINDING_ID = 112;
        public static final int _UL__ULSEP_retrofit_ErrorHandler_ULSEP_BINDING_ID = 74;
        public static final int _UL__ULSEP_retrofit_RestAdapter_LogLevel_ULSEP_BINDING_ID = 15;
        public static final int _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_http_core_annotations_CustomUserAgentOculusRestAdapter_ULSEP_BINDING_ID = 2132;
        public static final int _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_http_core_annotations_FacebookApiRestAdapter_ULSEP_BINDING_ID = 2051;
        public static final int _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_http_core_annotations_FacebookGraphRestAdapter_ULSEP_BINDING_ID = 2087;
        public static final int _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_http_core_annotations_FacebookGraphVideoRestAdapter_ULSEP_BINDING_ID = 2053;
        public static final int _UL__ULSEP_retrofit_RestAdapter_ULSEP_com_oculus_http_core_annotations_OculusRestAdapter_ULSEP_BINDING_ID = 2086;
    }

    @AutoGeneratedFactoryMethod
    public static final Boolean A00() {
        return false;
    }

    @AutoGeneratedAccessMethod
    public static final LD A01(AbstractC0247Xu xu) {
        return (LD) C0515sp.A00(103, xu);
    }

    @AutoGeneratedFactoryMethod
    public static final LD A03(AbstractC0247Xu xu) {
        if (_UL__ULSEP_okhttp3_OkHttpClient_ULSEP_com_oculus_http_defaultclient_DefaultHttpClient_ULSEP_INSTANCE == null) {
            synchronized (_UL__ULSEP_okhttp3_OkHttpClient_ULSEP_com_oculus_http_defaultclient_DefaultHttpClient_ULSEP_LOCK) {
                Pj A00 = Pj.A00(_UL__ULSEP_okhttp3_OkHttpClient_ULSEP_com_oculus_http_defaultclient_DefaultHttpClient_ULSEP_INSTANCE, xu);
                if (A00 != null) {
                    try {
                        AbstractC0247Xu applicationInjector = xu.getApplicationInjector();
                        _UL__ULSEP_okhttp3_OkHttpClient_ULSEP_com_oculus_http_defaultclient_DefaultHttpClient_ULSEP_INSTANCE = A04(HttpModule.A06(applicationInjector), C00208d.A00(applicationInjector), C00238n.A00(applicationInjector), EndpointModule.A07(applicationInjector), UserAgentModule.A02(applicationInjector), new C0088Gy(56, applicationInjector), OculusAuthorizationInterceptor.A00(applicationInjector));
                    } finally {
                        A00.A01();
                    }
                }
            }
        }
        return _UL__ULSEP_okhttp3_OkHttpClient_ULSEP_com_oculus_http_defaultclient_DefaultHttpClient_ULSEP_INSTANCE;
    }

    @ApplicationScoped
    @ProviderMethod
    @DefaultHttpClient
    public static LD A04(LD ld, @ForAppContext Context context, PackageInfo packageInfo, @OculusApiEndpoint String str, @UserAgentString String str2, eJ<Locale> eJVar, OculusAuthorizationInterceptor oculusAuthorizationInterceptor) {
        int i;
        C0365dm dmVar = new C0365dm(ld);
        if (CustomApiEndpointValidator.DISABLE_CERT_CHECK_URI_PATTERN.matcher(str).matches()) {
            CustomApiEndpointValidator.A00(dmVar);
        }
        String A00 = DeviceUtils.A00(context);
        if (packageInfo != null) {
            i = packageInfo.versionCode;
        } else {
            i = -1;
        }
        ApiInterceptor apiInterceptor = new ApiInterceptor(A00, str2, i, eJVar);
        List<Cdo> list = dmVar.A0N;
        list.add(apiInterceptor);
        list.add(oculusAuthorizationInterceptor);
        list.add(new GzipInterceptor());
        list.add(new XG());
        list.add(new NpeExceptionHandlerInterceptor());
        list.add(new RequestHeadersInterceptor(RequestHeaders.DEFAULT_REQUEST_HEADERS));
        return new LD(dmVar);
    }

    @CustomUserAgentHttpClient
    @ProviderMethod
    public static LD A05(LD ld, @ForAppContext Context context, PackageInfo packageInfo, @OculusApiEndpoint String str, eJ<Locale> eJVar, OculusAuthorizationInterceptor oculusAuthorizationInterceptor) {
        int i;
        C0365dm dmVar = new C0365dm(ld);
        if (CustomApiEndpointValidator.DISABLE_CERT_CHECK_URI_PATTERN.matcher(str).matches()) {
            CustomApiEndpointValidator.A00(dmVar);
        }
        String A00 = DeviceUtils.A00(context);
        if (packageInfo != null) {
            i = packageInfo.versionCode;
        } else {
            i = -1;
        }
        ApiInterceptor apiInterceptor = new ApiInterceptor(A00, null, i, eJVar);
        List<Cdo> list = dmVar.A0N;
        list.add(apiInterceptor);
        list.add(oculusAuthorizationInterceptor);
        list.add(new GzipInterceptor());
        list.add(new XG());
        list.add(new NpeExceptionHandlerInterceptor());
        return new LD(dmVar);
    }

    @AutoGeneratedAccessMethod
    public static final ErrorHandler A06(AbstractC0247Xu xu) {
        return (ErrorHandler) C0515sp.A00(74, xu);
    }

    @AutoGeneratedAccessMethod
    public static final RestAdapter.LogLevel A09(AbstractC0247Xu xu) {
        return (RestAdapter.LogLevel) C0515sp.A00(15, xu);
    }

    @AutoGeneratedFactoryMethod
    public static final LD A02(AbstractC0247Xu xu) {
        return A05(HttpModule.A06(xu), C00208d.A00(xu), C00238n.A00(xu), EndpointModule.A07(xu), new C0088Gy(56, xu), OculusAuthorizationInterceptor.A00(xu));
    }

    @AutoGeneratedFactoryMethod
    public static final ErrorHandler A07(AbstractC0247Xu xu) {
        return LoggingErrorHandler.A00(xu);
    }

    @AutoGeneratedFactoryMethod
    public static final RestAdapter.LogLevel A08() {
        return RestAdapter.LogLevel.NONE;
    }
}
